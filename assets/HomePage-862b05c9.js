import{R as m,j as i,v as r,af as d,n as u,dM as f,e as x,dN as y,u as k,O as C,i as n,S as w,m as h}from"./index-f0baa7a0.js";const{Meta:l}=r;class z extends m.Component{constructor(t){super(t),this.state={classes:t}}wrappedAsSilentSigninLink(t){return t.startsWith("http")&&(t+=t.includes("?")?"&silentSignin=1":"?silentSignin=1"),t}renderCardMobile(t,e,s,a,p,g){const o={width:"100vw",textAlign:"center",cursor:"pointer"},j=this.wrappedAsSilentSigninLink(e);return i.jsxs(r.Grid,{style:o,onClick:()=>d(this,j),children:[i.jsx("img",{src:t,alt:"logo",width:"100%",style:{marginBottom:"20px"}}),i.jsx(l,{title:s,description:a,style:{justifyContent:"center"}})]})}renderCard(t,e,s,a,p,g){const o=this.wrappedAsSilentSigninLink(e);return i.jsx(u,{style:{paddingLeft:"20px",paddingRight:"20px",paddingBottom:"20px",marginBottom:"20px"},span:6,children:i.jsxs(r,{hoverable:!0,cover:i.jsx("img",{alt:"logo",src:t,style:{width:"100%",height:"200px",padding:"20px",objectFit:"scale-down"}}),onClick:()=>d(this,o),style:g?{width:"320px",height:"100%"}:{width:"100%",height:"100%"},children:[i.jsx(l,{title:s,description:a}),i.jsx("br",{}),i.jsx("br",{}),i.jsx(l,{title:"",description:f(p)})]})})}render(){return x()?this.renderCardMobile(this.props.logo,this.props.link,this.props.title,this.props.desc,this.props.time,this.props.isSingle):this.renderCard(this.props.logo,this.props.link,this.props.title,this.props.desc,this.props.time,this.props.isSingle)}}const c=y(z);class v extends m.Component{constructor(t){super(t),this.state={classes:t,applications:null}}UNSAFE_componentWillMount(){this.getApplicationsByOrganization(this.props.account.owner)}getApplicationsByOrganization(t){k("admin",t).then(e=>{this.setState({applications:e.msg===void 0?e:[]})})}getItems(){let t=[];if(C(this.props.account)){t=[{link:"/organizations",name:n.t("general:Organizations"),organizer:n.t("general:User containers")},{link:"/users",name:n.t("general:Users"),organizer:n.t("general:Users under all organizations")},{link:"/providers",name:n.t("general:Providers"),organizer:n.t("general:OAuth providers")},{link:"/applications",name:n.t("general:Applications"),organizer:n.t("general:Applications that require authentication")}];for(let e=0;e<t.length;e++){let s=t[e].link;s==="/account"&&(s="/users"),t[e].logo=`${w}/img${s}.png`,t[e].createdTime=""}}else this.state.applications.forEach(e=>{let s=e.homepageUrl;s==="<custom-url>"&&(s=this.props.account.homepage),t.push({link:s,name:e.displayName,organizer:e.description,logo:e.logo,createdTime:""})});return t}renderCards(){if(this.state.applications===null)return null;const t=this.getItems();return x()?i.jsx(r,{bodyStyle:{padding:0},children:t.map(e=>i.jsx(c,{logo:e.logo,link:e.link,title:e.name,desc:e.organizer,isSingle:t.length===1},e.link))}):i.jsx("div",{style:{marginRight:"15px",marginLeft:"15px"},children:i.jsx(h,{style:{marginLeft:"-20px",marginRight:"-20px",marginTop:"20px"},gutter:24,children:t.map(e=>i.jsx(c,{logo:e.logo,link:e.link,title:e.name,desc:e.organizer,time:e.createdTime,isSingle:t.length===1},e.name))})})}render(){return i.jsx("div",{children:i.jsx(h,{style:{width:"100%"},children:i.jsx(u,{span:24,style:{display:"flex",justifyContent:"center"},children:this.renderCards()})})})}}export{v as default};
